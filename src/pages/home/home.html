<ion-header>
  <ion-navbar color="primary">
    <ion-title>
      Hyper
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>

  <!--   <h1 text-center>Ionic login starter</h1> -->

  <button ion-button round  type="button" (click)="takePicture()">Take Photo</button>
  <button ion-button round  type="button" (click)="accessGallery()">Choose Photo</button>
  <form [formGroup]="form">
    <ion-item>
      <ion-label>BP Machine Model</ion-label>
      <ion-select required formControlName="BP_machine" placeholder="Please select model">
        <ion-option text-wrap value="OmronHEM-7113">Omron HEM-7113</ion-option>
        <ion-option text-wrap  value="IhealthWristWirelessTensiometer">Ihealth Wrist Wireless Tensiometer</ion-option>
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-label>Photo taken now</ion-label>
      <ion-select  required formControlName="Phototaken" placeholder="Yes or no?">
        <ion-option text-wrap value="yes">Yes</ion-option>
        <ion-option text-wrap  value="no">No</ion-option>
      </ion-select>
    </ion-item>

    <ion-item  *ngIf="form.value['Phototaken'] == 'no'"> 
      <ion-label>Date of photo taken </ion-label>
      <ion-datetime [(ngModel)]="date" *ngIf="form.value['Phototaken'] == 'no'" placeholder="Please select date" formControlName="Photodate" type="text"  displayFormat="DD MMM YYYY " pickerFormat="YYYY MM DD" [max]="getCurrentTime()"></ion-datetime>   
       
    </ion-item>
    <ion-item  *ngIf="form.value['Phototaken'] == 'no'"> 
      <ion-label>Time of photo taken </ion-label>
      <ion-datetime *ngIf="form.value['Phototaken'] == 'no'" placeholder="Please select time" formControlName="Phototime" type="text"  displayFormat="hh:mm A" pickerFormat="hh:mm A"></ion-datetime>     
    </ion-item>
  </form>

  <img [src]="base64Image" *ngIf="base64Image" />
  <ion-col style="text-align: center">
  	<button *ngIf="base64Image"  ion-button round large type="button" (click)="goToImgEdit()">OK</button>
  </ion-col>
</ion-content>
